# disable processing of 99video
before_hooks()
{
	disablehook 99video "disabled by uswsusp"
}

check_suspend()
{
	[ -e /dev/pmu ] && return 0
	grep -q mem /sys/power/state && return 0
}

do_suspend()
{
	echo "mem" >/sys/power/state
}

check_hibernate()
{
	[ -f /sys/power/disk ] && \
	grep -q disk /sys/power/state && \
	[ -c /dev/snapshot ] &&
	command_exists s2disk	
}

do_hibernate()
{
	s2disk
}

check_suspend_hybrid()
{
	grep -q mem /sys/power/state && \
	command_exists s2both && \
	check_hibernate
}

do_suspend_hybrid()
{
	# a brief perusal of the source indicates that -f bypasses
	# quirks application and the whitelist.
	s2both -f
}
